@model ERPKeeperCore.Enterprise.Models.Accounting.FiscalYear
@using ERPKeeperCore.Enterprise.Models.Accounting.Enums



<div style="width:960px;" class="p-4 page-break">
	<div class="h-8">
	</div>
	<div class="text-center font-semibold  mb-3">
		@Organization.Profiles.GetSelf().Name<br />
		????????????????????<br />
		? ??????  31 ??????? @(Model.EndDate.Year - 1 + 543) ??? @(Model.EndDate.Year + 543)
	</div>
	<div class="h-8">
	</div>
	<div class="font-weight-600 text-center font-semibold">
		?????????????????
	</div>
	<div class="flex flex-wrap mt-4 font-semibold">
		<div class="w-8/12">
		</div>
		<div class="w-4/12 font-semibold text-center">
			?????:???
		</div>

		<div class="w-8/12">
		</div>

		<div class="w-2/12 text-right border-dark border-top">
			@(Model.EndDate.Year + 543)
		</div>
		<div class="w-2/12 text-right border-dark border-top">
			@(Model.EndDate.Year - 1 + 543)
		</div>
	</div>

	@{
		var stock = Model.FiscalYearAccountBalances
		.Where(m => m.Account.Type == ERPKeeperCore.Enterprise.Models.Accounting.Enums.AccountTypes.Capital)
		.Where(m => m.Account.SubType == AccountSubTypes.Equity_Stock)
		.First();
	}

	<div class="mb-3">
		<div class="w-full  font-semibold ">
			?????????????????<br />
			????????????<br />
			????????????
		</div>
		<div class="flex">
			<div class="col-1">
			</div>
			<div class="col-3">
				<a href="/Accounting/Accounts/@stock.AccountId/" target="_self">
					????????????
				</a>
			</div>
			<div class="col-8">
			</div>
		</div>
		<div class="flex">
			<div class="w-2/12">
			</div>
			<div class="w-6/12">
				<a href="/Accounting/Accounts/@stock.AccountId/" target="_self">
					????????? @(((stock.ClosedCredit - stock.ClosedDebit) / 1000).ToString("N2")) ???? ????????????? 1000 ???
				</a>
			</div>

			<div class="w-2/12 text-right">
				@((stock.ClosedCredit - stock.ClosedDebit).ToString("N2"))
			</div>
			<div class="w-2/12 text-right">
				@((stock.OpeningCredit - stock.OpeningDebit).ToString("N2"))
			</div>
		</div>

		<div class="flex">
			<div class="col-1">
			</div>
			<div class="col-3">
				<a href="/Accounting/Accounts/@stock.AccountId/" target="_self">
					????????????????
				</a>
			</div>
		</div>
		<div class="flex">
			<div class="w-2/12">
			</div>
			<div class="w-6/12">
				<a href="/Accounting/Accounts/@stock.AccountId/" target="_self">
					????????? @(((stock.ClosedCredit - stock.ClosedDebit) / 1000).ToString("N2")) ???? ????????????? 1000 ???
				</a>
			</div>

			<div class="w-2/12 text-right">
				@((stock.ClosedCredit - stock.ClosedDebit).ToString("N2"))
			</div>
			<div class="w-2/12 text-right">
				@((stock.OpeningCredit - stock.OpeningDebit).ToString("N2"))
			</div>
		</div>


		@{
			var retainEaring = Model.FiscalYearAccountBalances
			.Where(m => m.Account.Type == ERPKeeperCore.Enterprise.Models.Accounting.Enums.AccountTypes.Capital)
			.Where(m => m.Account.SubType == AccountSubTypes.Equity_RetainEarning)
			.First();



		}

		<div class="flex flex-wrap">
			<div class="w-full font-semibold">
				???? (??????) ????
			</div>
			<div class="col-1">
			</div>
			<div class="w-3/12  ">
				????????
			</div>
			<div class="w-4/12">
			</div>

			<div class="w-2/12 text-right border-dark border-top">
				@(retainEaring.ClosedCredit.ToString("N2"))
			</div>
			<div class="w-2/12 text-right border-dark border-top">
				@(retainEaring.OpeningCredit.ToString("N2"))
			</div>
		</div>

		<div class="flex mt-2 font-semibold">
			@{
				var totalEquity = Model.FiscalYearAccountBalances
				.Where(m => m.Account.Type == AccountTypes.Capital)
				.ToList();

			}
			<div class="w-4/12 font-semibold ">
				????????????????????
			</div>
			<div class="w-4/12">
			</div>

			<div class="w-2/12 text-right border-dark border-top">
				@(totalEquity.Sum(line => line.ClosedCredit - line.ClosedDebit).ToString("N2"))
			</div>
			<div class="w-2/12 text-right border-dark border-top">
				@(totalEquity.Sum(line => line.OpeningCredit - line.OpeningDebit).ToString("N2"))
			</div>
		</div>


		<div class="flex mt-2 font-semibold">
			@{
				var totalEquityandLiability = Model.FiscalYearAccountBalances
				.Where(m => m.Account.Type == AccountTypes.Capital
				|| m.Account.Type == AccountTypes.Liability)
				.ToList();

			}
			<div class="w-4/12 font-semibold ">
				??????????????????????????????
			</div>
			<div class="w-4/12">
			</div>

			<div class="w-2/12 text-right border-dark border-top">
				@(totalEquityandLiability.Sum(line => line.ClosedCredit - line.ClosedDebit).ToString("N2"))
			</div>
			<div class="w-2/12 text-right border-dark border-top">
				@(totalEquityandLiability.Sum(line => line.OpeningCredit - line.OpeningDebit).ToString("N2"))
			</div>
		</div>

		<div class="mt-4">
			??????????????????????????????????????????????????????????????????????????? 1/@(Model.EndDate.Year - 1 + 543) ??????????? 30 ?????? @(Model.EndDate.Year + 1 + 543)
		</div>
	</div>
</div>